[env:esp32]
platform = espressif32
framework = arduino

board = esp32-s3-devkitm-1
; board = esp32-c3-devkitm-1
; board = esp32dev

; === PARTITION TABLE SELECTION ===
; board_build.partitions = default.csv
; --- 4Mo configurations ---
; board_build.partitions = memory/4Mo_OTA_sans_SPIFFS.csv           ; App0=1.90Mo, App1=1.90Mo, SPIFFS=none
board_build.partitions = memory/4Mo_OTA_avec_SPIFFS_500Ko.csv    ; App0=1.65Mo, App1=1.65Mo, SPIFFS=500Ko
; board_build.partitions = memory/4Mo_OTA_avec_SPIFFS_1Mo.csv      ; App0=1.40Mo, App1=1.40Mo, SPIFFS=1Mo
; --- 8Mo configurations ---
; board_build.partitions = memory/8Mo_OTA_sans_SPIFFS.csv          ; App0=3.90Mo, App1=3.90Mo, SPIFFS=none
; board_build.partitions = memory/8Mo_OTA_avec_SPIFFS_500Ko.csv     ; App0=3.65Mo, App1=3.65Mo, SPIFFS=500Ko
; board_build.partitions = memory/8Mo_OTA_avec_SPIFFS_1Mo.csv      ; App0=3.40Mo, App1=3.40Mo, SPIFFS=1Mo
; board_build.partitions = memory/8Mo_OTA_avec_SPIFFS_2Mo.csv      ; App0=2.90Mo, App1=2.90Mo, SPIFFS=2Mo
; board_build.partitions = memory/8Mo_OTA_avec_SPIFFS_3Mo.csv      ; App0=2.40Mo, App1=2.40Mo, SPIFFS=3Mo

monitor_speed = 115200
; upload_port = COM11
; monitor_port = COM11

; board_build.flash_mode = dio
; board_build.flash_freq = 40m   ; (par défaut 80m)
; board_build.f_cpu = 80000000L   ; (80 MHz au lieu de 240)
; board_build.esp-idf-flash-size = 16MB
; board_build.esp-idf-psram-enable = yes

lib_deps =
	ArduinoJson
    vintlabs/FauxmoESP@3.4.1    ; Il y a des problème avec ESPAsync... dans les dernière versions donc on défini cette version qui est fonctionnelle
    NeoPixelBus
    RTClib

extra_scripts = 
    pre:convert_files.py
    pre:generate_allfunction.py
    post_build_firmware.py



; ; Configuration pour OTA
; upload_protocol = espota  ; Utilisation d'OTA pour le téléversement
; upload_port = 192.168.1.25  ; l'adresse IP ou mdns de ton ESP32
; upload_flags =
;     --port=3232            ; Port OTA (optionnel si par défaut 3232)
;     --auth=9z8c49z4        ; Mot de passe OTA si configuré