[env:esp32]
platform = espressif32
framework = arduino

board = esp32-s3-devkitm-1
; board = esp32-c3-devkitm-1
; board = esp32dev

; === CONFIGURATION MÉMOIRE ===
; board_build.partitions = default.csv ; optionnel, permet de revenir à la partition par défaut
esp_memory = 4              ; (Mo) 4 ou 8       Memoire totale de l'ESP32
esp_ota = true              ; true ou false     à activer si les mise a jours OTA sont activées dans le code
esp_spiffs = 500            ; (Ko)              Taille du système de fichiers SPIFFS (mettre 0 pour pas de SPIFFS)
board_build.partitions = memory/memory.csv

monitor_speed = 115200
; upload_port = COM11
; monitor_port = COM11

; board_build.flash_mode = dio
; board_build.flash_freq = 40m   ; (par défaut 80m)
; board_build.f_cpu = 80000000L   ; (80 MHz au lieu de 240)
; board_build.esp-idf-flash-size = 16MB
; board_build.esp-idf-psram-enable = yes

lib_deps =
	ArduinoJson
    vintlabs/FauxmoESP@3.4.1    ; Il y a des problème avec ESPAsync... dans les dernière versions donc on défini cette version qui est fonctionnelle
    NeoPixelBus
    RTClib

extra_scripts = 
    pre:configure_build.py
    pre:generate_memory.py
    pre:convert_files.py
    pre:generate_allfunction.py
    post_build_firmware.py



; ; Configuration pour OTA
; upload_protocol = espota  ; Utilisation d'OTA pour le téléversement
; upload_port = 192.168.1.25  ; l'adresse IP ou mdns de ton ESP32
; upload_flags =
;     --port=3232            ; Port OTA (optionnel si par défaut 3232)
;     --auth=9z8c49z4        ; Mot de passe OTA si configuré